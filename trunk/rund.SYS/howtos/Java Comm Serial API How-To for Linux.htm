<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<BASE HREF="http://wass.homelinux.net/howtos/Comm_How-To.shtml"><table border=1 width=100%><tr><td><table border=1 bgcolor=#ffffff cellpadding=10 cellspacing=0 width=100% color=#ffffff><tr><td><font face=arial,sans-serif color=black size=-1>Dies ist der <a href="http://www.google.com/intl/de/help/features.html#cached"><font color=blue>Zwischenspeicher</font></a> von <b><font color=#0039b6>G</font> <font color=#c41200>o</font> <font color=#f3c518>o</font> <font color=#0039b6>g</font> <font color=#30a72f>l</font> <font color=#c41200>e</font></b> für <A HREF="http://wass.homelinux.net/howtos/Comm_How-To.shtml"><font color=blue>http://wass.homelinux.net/howtos/Comm_How-To.shtml</font></a> nach dem Stand vom 29. Dez. 2005 17:07:41 GMT.<br>
<b><font color=#0039b6>G</font> <font color=#c41200>o</font> <font color=#f3c518>o</font> <font color=#0039b6>g</font> <font color=#30a72f>l</font> <font color=#c41200>e</font></b>s Cache enthält einen Schnappschuss der Webseite, der während des Webdurchgangs aufgenommenen wurde.<br>
Unter Umständen wurde die Seite inzwischen verändert. Klicken Sie hier, um zur <A HREF="http://wass.homelinux.net/howtos/Comm_How-To.shtml"><font color=blue>aktuellen Seite</font></a> ohne Hervorhebungen zu gelangen.<br>
Diese Seite im Cache bezieht sich eventuell auf Bilder, die nicht länger zur Verfügung stehen. Klicken Sie hier, um nur den <A HREF="http://64.233.183.104/search?q=cache:As-EBrTK9ZIJ:wass.homelinux.net/howtos/Comm_How-To.shtml+RXTXCommDriver+Linux+Howto&hl=de&lr=&strip=1"><font color=blue>Text im Cache</font></a> anzuzeigen.<br>Um einen Link oder ein Bookmark zu dieser Seite herzustellen, benutzen Sie bitte die folgende URL: <code>http://www.google.com/search?q=cache:As-EBrTK9ZIJ:wass.homelinux.net/howtos/Comm_How-To.shtml+RXTXCommDriver+Linux+Howto&amp;hl=de</code></font><br><br><center><font size=-2><i>Google steht zu den Verfassern dieser Seite in keiner Beziehung.</i></font></center></td></tr>
<tr><td>
<table border=0 cellpadding=0 cellspacing=0><tr><td><font face=arial,sans-serif color=black size=-1>Diese Suchbegriffe wurden hervorgehoben:&nbsp;</font></td><td bgcolor=#ffff66><B><font face=arial,sans-serif color=black size=-1>rxtxcommdriver&nbsp;</font></B></td><td bgcolor=#a0ffff><B><font face=arial,sans-serif color=black size=-1>linux&nbsp;</font></B></td></tr></table>
<font face=arial,sans-serif color=black size=-1>Diese Begriffe erscheinen nur in Links, die auf diese Seite verweisen: <B>howto </B></font>
</td></tr></table></td></tr></table>
<hr>
<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta http-equiv="Content-Language" content="en-us">
<link REL="stylesheet" TYPE="text/css" HREF="/global.css" TITLE="Style">
<!--<link REL="stylesheet" TYPE="text/css" HREF="/global-ghost2.css" TITLE="gg2">
<link REL="stylesheet" TYPE="text/css" HREF="/global-original.css" TITLE="Original">
<link REL="stylesheet" TYPE="text/css" HREF="/global-pastel.css" TITLE="Pastel">
<link REL="stylesheet" TYPE="text/css" HREF="/global-ghost.css" TITLE="Ghost">-->


<link REL="stylesheet" TYPE="text/css" HREF="local.css" TITLE="LocalStyle">
<title>Java Comm Serial API How-To for Linux</title>
</head>

<body>
<a href="mailto:inquiry@wass.homelinux.net"></a>
<table class="main">
  <tr>
    <td class="header" colspan="2"><table WIDTH="100%">
      <tr>
        <td ALIGN="CENTER" WIDTH="100%"><h1 align="center">Java Comm Serial API How-To for <b style="color:black;background-color:#a0ffff">Linux</b></h1>
        <p align="center">Using <a href="http://www.rxtx.org/">RXTX</a> and <a
        href="http://www.geeksville.com/~kevinh/linuxcomm.html">JCL</a></td>
      </tr>
    </table>
    </td>
  </tr>
  <tr>
    <td class="menu"><table border="0" cellpadding="0" cellspacing="0">
  <tbody>
    <tr>
      <td><br>
      </td>
      <td valign="baseline"><div class="div_bullet"></div></td>
      <td colspan="2" valign="top"><font face="Bremen Bd BT" size="-1"><a
 href="/">Home</a></font></td>
    </tr>
    <tr>
      <td><br>
      </td>
      <td valign="baseline"><div class="div_bullet"></div></td>
      <td colspan="2" valign="top"><font face="Bremen Bd BT" size="-1"><a
 href="/8ball/">Magic 8-ball</a></font></td>
    </tr>
    <tr>
      <td><br>
      </td>
      <td valign="baseline"><div class="div_bullet"></div></td>
      <td colspan="2" valign="top"><a href="http://x10.homelinux.org"><font
 face="Bremen Bd BT" size="-1">X10</font></a></td>
    </tr>
    <tr>
      <td><br>
      </td>
      <td valign="baseline"><div class="div_bullet"></div></td>
      <td colspan="2" valign="top"><font face="Bremen Bd BT" size="-1"><a
 href="../servlets.shtml">Servlet Links</a></font></td>
    </tr>
    <tr>
      <td><br>
      </td>
      <td valign="baseline"><div class="div_bullet"></div></td>
      <td colspan="2" valign="top"><font face="Bremen Bd BT" size="-1"><a
 href="../links.shtml">Other Links</a></font></td>
    </tr>
<!--<tr>
<td></td>
<td VALIGN="BASELINE"><img SRC="../icons/ball.ocean.gif" width="20" height="22"></td>
<td VALIGN="TOP" colspan="2"><font size="-1" face="Bremen Bd BT"><a
href="/docs/api/overview-summary.html">Java API</a></font></td>
</tr>
<tr>
<td></td>
<td VALIGN="BASELINE"><img SRC="../icons/ball.ocean.gif" width="20" height="22"></td>
<td VALIGN="TOP" colspan="2"><font size="-1" face="Bremen Bd BT"><a
href="../servletdocs/overview-summary.html">Servlet API</a></font></td>
</tr>-->
    <tr>
      <td></td>
      <td valign="baseline"><div class="div_bullet"></div></td>
      <td colspan="2" valign="top"><font face="Bremen Bd BT" size="-1"><a
 href="./"><b style="color:black;background-color:#a0ffff">Linux</b> How-To's</a></font></td>
    </tr>
    <tr>
      <td></td>
      <td align="right" valign="baseline"></td>
      <td valign="baseline"><div class="div_bullet2"></div></td>
      <td valign="top"><font face="Bremen Bd BT" size="-1"><a
 href="Jakarta_How-To.shtml">Jakarta Tomcat</a></font></td>
    </tr>
    <tr>
      <td></td>
      <td align="right" valign="baseline"></td>
      <td valign="baseline"><div class="div_bullet2"></div></td>
      <td valign="top"><font face="Bremen Bd BT" size="-1"><a
 href="Comm_How-To.shtml">Java Comm</a></font></td>
    </tr>
    <tr>
      <td></td>
      <td align="right" valign="baseline"></td>
      <td valign="baseline"><div class="div_bullet2"></div></td>
      <td valign="top"><font face="Bremen Bd BT" size="-1"><a
 href="Pavilion_ze4100_How-To.shtml">HP Pavilion ZE4100</a></font></td>
    </tr>
    <tr>
      <td></td>
      <td align="right" valign="baseline"></td>
      <td valign="baseline"><div class="div_bullet2"></div></td>
      <td valign="top"><font face="Bremen Bd BT" size="-1"><a
 href="Citrix_ICA_How-To.shtml">Citrix ICA Client</a></font></td>
    </tr>
    <tr>
      <td></td>
      <td align="right" valign="baseline"></td>
      <td valign="baseline"><div class="div_bullet2"></div></td>
      <td valign="top"><font face="Bremen Bd BT" size="-1"><a
 href="Tips_and_Tricks.shtml">Tips and Tricks</a></font></td>
    </tr>
<!--<tr>
<td></td>
<td VALIGN="BASELINE"><img SRC="../icons/ball.ocean.gif" width="20" height="22"></td>
<td VALIGN="TOP" colspan="2"><font size="-1" face="Bremen Bd BT"><a
href="/servlet/MMM">MMM</a></font></td>
</tr>-->
  </tbody>
</table>
</body>
</html>
</td>
    <td class="body"><h2>Preface</h2>
    <p>Special thanks to Trent Jarvi and Kevin Hester for putting together RXTX and JCL.&nbsp;
    These two gentlemen have done an excellent job of porting the original Sun Java Comm API
    to the <b style="color:black;background-color:#a0ffff">Linux</b> OS.&nbsp; However, with all due respect, and not to be insulting, their
    installation documentation leaves much to be desired.&nbsp; This is the primary reason I
    have chosen to put this document together.</p>
    <h2>Getting Started</h2>
    <p>Before insalling the Comm API on your <b style="color:black;background-color:#a0ffff">Linux</b> box, be sure you have a JSDK
    installed.&nbsp; You can obtain a JSDK for your version of <b style="color:black;background-color:#a0ffff">linux</b> from <a
    href="http://www.blackdown.org/java-linux/mirrors.html">Blackdown.org</a> or <a
    href="http://java.sun.com/j2se/1.4/download.html">Sun Microsystems</a>.&nbsp; To install
    and configure Java in <b style="color:black;background-color:#a0ffff">Linux</b>, please follow the instructions provided <a
    href="http://java.sun.com/j2se/1.4/jre/install-linux.html">here</a>. </p>
    <p>For the purposes of this paper, it will be assumed that you have installed a JSDK and
    it is located in: </p>
    <p><small><font face="Courier New,Courier">/usr/java/j2sdk1.4.0/</font></small> </p>
    <p>And java is then located in: </p>
    <p><small><font face="Courier New,Courier">/usr/java/j2sdk1.4.0/bin/</font></small> <br>
    <br>
    If your setup is different, please adjust accordingly.&nbsp; </p>
    <h2>Installing RXTX</h2>
    <p>First, obtain the RXTX bins package from:</p>
    <p><a href="http://www.linux.org.uk/~taj/rxtx-bins.1.tar.gz">http://www.<b style="color:black;background-color:#a0ffff">linux</b>.org.uk/~taj/rxtx-bins.1.tar.gz</a>
    <br>
    <small><small>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    (In IE, right click and &quot;Save Target As&quot;)</small></small></p>
    <p>Decompress and Untar this package:</p>
    <p><small><font face="Courier New,Courier">/bin/gzip --decompress rxtx-bins.1.tar.gz</font></small></p>
    <p><small><font face="Courier New,Courier">/bin/tar xf rxtx-bins.1.tar</font></small></p>
    <p>At this point, you'll have an <small><font face="Courier New,Courier">rxtx-bins.1</font></small>
    directory.&nbsp; Next, you'll need to copy the shared objects into your java installation:</p>
    <p><small><font face="Courier New,Courier">cp rxtx-bins.1/1.4/i386-pc-<b style="color:black;background-color:#a0ffff">linux</b>/libParallel.so
    /usr/java/j2sdk1.4.0/jre/lib/i386/</font></small></p>
    <p><small><font face="Courier New,Courier">cp rxtx-bins.1/1.4/i386-pc-<b style="color:black;background-color:#a0ffff">linux</b>/libSerial.so
    /usr/java/j2sdk1.4.0/jre/lib/i386/</font></small></p>
    <p>If you are installing on an architecture other than an x86, you'll need to adjust both
    the <small><font face="Courier New,Courier">/i386-pc-<b style="color:black;background-color:#a0ffff">linux</b></font>/ </small>and the <small><font
    face="Courier New,Courier">/i386/</font></small> accordingly.</p>
    <p>Next, you'll need to install the jcl.jar file:</p>
    <p><small><font face="Courier New,Courier">cp rxtx-bins.1/1.4/jcl.jar
    /usr/java/j2sdk1.4.0/jre/lib/ext/</font></small></p>
    <p>At this point, the RXTX installation is complete.</p>
    <h2>Installing Comm</h2>
    <p>The final step to getting the Java Comm API working under <b style="color:black;background-color:#a0ffff">Linux</b>, is to install the Comm
    API itself.&nbsp; At this point, you have all of the necessary kernel-level drivers
    installed.&nbsp; Because <b style="color:black;background-color:#a0ffff">Linux</b> is a form of Unix, the authors of RXTX and JCL have wisely
    decided to reuse sun's solaris (unix) comm library.&nbsp; At this point, you must download
    and install this library:</p>
    <p><a href="http://java.sun.com/products/javacomm/">http://java.sun.com/products/javacomm/</a>
    &nbsp; </p>
    <p>Make sure you choose the Solaris/Sparc<sup>TM</sup> version.&nbsp; Next, you must
    Decompress and Untar this package:</p>
    <p><small><font face="Courier New,Courier">/bin/gzip --decompress
    javax_comm-2_0_2-solsparc.tar.Z</font></small></p>
    <p><small><font face="Courier New,Courier">/bin/tar xf javax_comm-2_0_2-solsparc.tar</font></small></p>
    <p>Next, you'll need to install the comm.jar file:</p>
    <p><small><font face="Courier New,Courier">cp commapi/comm.jar
    /usr/java/j2sdk1.4.0/jre/lib/ext/</font></small></p>
    <p>At this point, we are almost finished.&nbsp; We just need to create the properties file
    that the Comm API will use to load the drivers (.so files).&nbsp; To create this file,
    type the following command:</p>
    <p><small><font face="Courier New,Courier">/bin/echo Driver=gnu.io.<b style="color:black;background-color:#ffff66">RXTXCommDriver</b> &gt;
    /usr/java/j2sdk1.4.0/jre/lib/javax.comm.properties</font></small></p>
    <p>Congratulations!&nbsp; You have installed the <b style="color:black;background-color:#a0ffff">Linux</b> Comm API.</p>
    <h2>Tips</h2>
    <p>While windows uses COM and LPT designators for port identifiers, <b style="color:black;background-color:#a0ffff">Linux</b> is a bit
    different.&nbsp; Use the following table to identify your ports:</p>
    <table border="1" width="100%">
      <tr>
        <td width="33%" bgcolor="#000080"><font color="#FFFFFF"><strong>Port</strong></font></td>
        <td width="33%" bgcolor="#000080"><font color="#FFFFFF"><strong>Windows port identifier</strong></font></td>
        <td width="34%" bgcolor="#000080"><font color="#FFFFFF"><strong>What you use in <b style="color:black;background-color:#a0ffff">Linux</strong></font></td>
      </tr>
</b>      <tr>
        <td width="33%">Serial Port 1</td>
        <td width="33%">COM1</td>
        <td width="34%">/dev/ttyS0</td>
      </tr>
      <tr>
        <td width="33%">Serial Port 2</td>
        <td width="33%">COM2</td>
        <td width="34%">/dev/ttyS1</td>
      </tr>
      <tr>
        <td width="33%">Parallel Port 1</td>
        <td width="33%">LPT1</td>
        <td width="34%">/dev/lp0</td>
      </tr>
    </table>
    <h2>Troubleshooting</h2>
    <p>Several people have emailed me and reported that they get the following error:</p>
    <p><small><font face="Courier New,Courier">Exception in thread &quot;main&quot;
    java.lang.VerifyError: (class:<br>
    gnu/io/RXTXPort$SerialOutputStream, method: write signature: ([BII)V) Illegal<br>
    use of nonvirtual function call<br>
    at gnu.io.RXTXPort.&lt;init&gt;(RXTXPort.java)<br>
    at gnu.io.<b style="color:black;background-color:#ffff66">RXTXCommDriver</b>.getCommPort(<b style="color:black;background-color:#ffff66">RXTXCommDriver</b>.java)<br>
    at javax.comm.CommPortIdentifier.open(CommPortIdentifier.java:547)</font></small><br>
    <br>
    I personally have not experienced this problem, but if you encounter this error, you can
    work around it by adding <strong><small><font face="Courier New,Courier">-noverify</font></small></strong>
    to your command line:</p>
    <p><small><font face="Courier New,Courier">java -classpath </font></small><em>your
    classpath</em> <small><font face="Courier New,Courier">-noverify </font></small><em>your
    class</em> </p>
    <p>Also, it has been suggested that recompiling the jcl with the java compiler you have
    chosen will resolve this issue.&nbsp; As I have never experienced this verification
    problem, I have no way to test this.&nbsp; It should also be noted that the purpose of
    this paper is to be a quick and easy way to get serial and parallel port access in Java on
    <b style="color:black;background-color:#a0ffff">Linux</b>.&nbsp; Most of the instructions on this page as well as the VerifyError are
    irrelevant if you chose to download the RXTX source and do a manual compile and
    installation.</p>
    <h2>Other Resources</h2>
    <ol>
      <li>Trent Jarvi's RXTX Homepage.&nbsp; (<a href="http://www.rxtx.org">http://www.rxtx.org</a>)</li>
      <li>Kevin Hester's JCL Homepage.&nbsp; (<a
        href="http://www.geeksville.com/~kevinh/linuxcomm.html">http://www.geeksville.com/~kevinh/linuxcomm.html</a>)</li>
      <li>Sun Microsystem's Java Comm FAQ.&nbsp; (<a
        href="http://java.sun.com/products/javacomm/reference/faqs/index.html">http://java.sun.com/products/javacomm/reference/faqs/index.html</a>)</li>
    </ol>
    </td>
  </tr>
</table>

<p><em><small><small>Copyright ©2002-2005 Wade Wassenberg</small></small><br>
<small><small>Last Modified: March 24, 2004.&nbsp; </small></small><br>
<small><small>If you have questions, comments, or if you find any part of this document to
be inaccurate or incorrect, please submit your feedback to <a
href="mailto:webmaster@wass.homelinux.net">webmaster@wass.homelinux.net</a>.</small></small></em></p>
</body>
</html>
